name: LinkedIn Auto Post

on:
  workflow_dispatch:  # Manual trigger

jobs:
  post_to_linkedin:
    runs-on: ubuntu-latest
    steps:
      - name: Post content to LinkedIn Page
        env:
          ACCESS_TOKEN: ${{ secrets.LINKEDIN_ACCESS_TOKEN }}
          PAGE_ID: ${{ secrets.LINKEDIN_PAGE_ID }}
        run: |
          curl -X POST https://api.linkedin.com/v2/ugcPosts \
            -H "Authorization: Bearer $ACCESS_TOKEN" \
            -H "Content-Type: application/json" \
            -d '{
              "author": "urn:li:person:lh3XwMSmya",
              "lifecycleState": "PUBLISHED",
              "specificContent": {
                "com.linkedin.ugc.ShareContent": {
                  "shareCommentary": {
                                        "text": "ğŸš€ From SSH to Serverless: The DevOps Journey Nobody Tells You About\n\nWhen I started in cloud engineering, I thought the job was all about commands, configs, and containers.\nBut hereâ€™s the truth Iâ€™ve learned:\n\nâœ… 90% of the job is invisible â€“ keeping pipelines flowing, infra scaling, and teams shipping.\nâœ… 5% is firefighting â€“ when production goes ğŸ”¥ at 3 AM and you suddenly become the firefighter nobody trained.\nâœ… 5% is pure magic â€“ when your automation saves hours, a migration goes smoothly, or you watch infra scale in seconds with zero downtime.\n\nAnd in between all this, you realize:\nğŸ‘‰ Itâ€™s not about tools. Itâ€™s about building systems people can trust.\nğŸ‘‰ Itâ€™s not about â€œcloud hype.â€ Itâ€™s about removing friction so innovation feels natural.\n\nIf youâ€™re in DevOps, Cloud, or SRE:\n\nDocument your journey.\n\nShare the lessons (even the messy ones).\n\nBecause behind every â€œdeploy succeededâ€ is a story worth telling.\n\nğŸ’¡ Iâ€™d love to hear:\nWhatâ€™s the most unexpected lesson youâ€™ve learned as an engineer in the cloud/DevOps world?\n\n#Cloud #DevOps #Engineering #Automation #Infra"
                  },
                  "shareMediaCategory": "NONE"
                }
              },
              "visibility": {
                "com.linkedin.ugc.MemberNetworkVisibility": "PUBLIC"
              }
            }'
